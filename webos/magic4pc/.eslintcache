[{"C:\\Users\\Wouter\\Documents\\WebOS\\magic4pc\\src\\index.js":"1","C:\\Users\\Wouter\\Documents\\WebOS\\magic4pc\\src\\App\\App.js":"2","C:\\Users\\Wouter\\Documents\\WebOS\\magic4pc\\src\\App\\attachErrorHandler.js":"3","C:\\Users\\Wouter\\Documents\\WebOS\\magic4pc\\src\\views\\MainPanel.js":"4"},{"size":270,"mtime":499162500000,"results":"5","hashOfConfig":"6"},{"size":453,"mtime":1627128918688,"results":"7","hashOfConfig":"6"},{"size":811,"mtime":499162500000,"results":"8","hashOfConfig":"6"},{"size":6388,"mtime":1627238362549,"results":"9","hashOfConfig":"6"},{"filePath":"10","messages":"11","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"12"},"1p7vru3",{"filePath":"13","messages":"14","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"12"},{"filePath":"15","messages":"16","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"17"},{"filePath":"18","messages":"19","errorCount":0,"warningCount":13,"fixableErrorCount":0,"fixableWarningCount":4,"source":"20","usedDeprecatedRules":"12"},"C:\\Users\\Wouter\\Documents\\WebOS\\magic4pc\\src\\index.js",[],["21","22","23"],"C:\\Users\\Wouter\\Documents\\WebOS\\magic4pc\\src\\App\\App.js",[],"C:\\Users\\Wouter\\Documents\\WebOS\\magic4pc\\src\\App\\attachErrorHandler.js",[],["24","25","26"],"C:\\Users\\Wouter\\Documents\\WebOS\\magic4pc\\src\\views\\MainPanel.js",["27","28","29","30","31","32","33","34","35","36","37","38","39"],"import Button from '@enact/sandstone/Button';\nimport {Dropdown, DropdownDecorator} from '@enact/sandstone/Dropdown';\nimport Popup from '@enact/sandstone/Popup';\nimport kind from '@enact/core/kind';\nimport {Panel, Header} from '@enact/sandstone/Panels';\nimport LS2Request from '@enact/webos/LS2Request';\nimport React from 'react'\n\nclass MainPanel extends React.Component {\n\tconstructor(props)\n\t{\n\t\tsuper(props);\n\n\t\tthis.startService = this.startService.bind(this);\n\t\tthis.onButton = this.onButton.bind(this);\n\t\tthis.onButtonDown = this.onButtonDown.bind(this);\n\t\tthis.onButtonUp = this.onButtonUp.bind(this);\n\t\tthis.stopService = this.stopService.bind(this);\n\t\tthis.queryServiceStatus = this.queryServiceStatus.bind(this);\n\t\tthis.updateLog = this.updateLog.bind(this);\n\t\tthis.onVisibilityChange = this.onVisibilityChange.bind(this);\n\t\tthis.componentWillMount = this.componentWillMount.bind(this);\n\t\tthis.componentWillUnmount = this.componentWillUnmount.bind(this);\n\t\tthis.onInputSourceSelected = this.onInputSourceSelected.bind(this);\n\t\tthis.handleOpenPopup = this.handleOpenPopup.bind(this);\n\t\tthis.handleClosePopup = this.handleClosePopup.bind(this);\n\t\tthis.onCursorVisibilityChange = this.onCursorVisibilityChange.bind(this);\n\n\t\tthis.state = {\n\t\t\tlabel: \"\",\n\t\t\tvideoSource: \"ext://hdmi:1\",\n\t\t\tpopupOpen: false,\n\t\t\tsettingsButtonVisible: true\n\t\t};\n\t}\n\n\tstartService()\n\t{\n\t\tconsole.log(\"Requesting service start\");\n\t\tlet onSuccess = (inResponse) => {\n\t\t\tconsole.log(\"Service started\");\n\t\t\tthis.updateLog();\n\t\t\treturn true;\n\t\t};\n\t\tlet onFailure = (inError) => {\n\t\t\tconsole.log(\"Service start failure: \"+inError);\n\t\t\tthis.setState({label: \"Service start error\"});\n\t\t\treturn;\n\t\t};\n\t\tnew LS2Request().send({\n\t\t\tservice: \"luna://me.wouterdek.magic4pc.service/\",\n\t\t\tmethod: 'start',\n\t\t\tonSuccess: onSuccess,\n\t\t\tonFailure: onFailure\n\t\t});\n\t}\n\n\tonButton(keyCode, isDown)\n\t{\n\t\tnew LS2Request().send({\n\t\t\tservice: \"luna://me.wouterdek.magic4pc.service/\",\n\t\t\tmethod: 'onInput',\n\t\t\tparameters: {\n\t\t\t\tkeyCode: keyCode,\n\t\t\t\tisDown: isDown\n\t\t\t},\n\t\t\tonSuccess: (inResponse) => {\n\t\t\t\treturn true;\n\t\t\t},\n\t\t\tonFailure: (inError) => {\n\t\t\t\treturn;\n\t\t\t}\n\t\t});\n\t}\n\n\tonButtonDown(event)\n\t{\n\t\tconsole.log(event.keyCode + \" down\");\n\t\tthis.onButton(event.keyCode, true);\n\t}\n\n\tonButtonUp(event)\n\t{\n\t\tconsole.log(event.keyCode + \" up\");\n\t\tthis.onButton(event.keyCode, false);\n\t}\n\n\tstopService()\n\t{\n\t\tconsole.log(\"Requesting service stop\");\n\t\tnew LS2Request().send({\n\t\t\tservice: \"luna://me.wouterdek.magic4pc.service/\",\n\t\t\tmethod: 'stop',\n\t\t\tonSuccess: (inResponse) => {\n\t\t\t\tconsole.log(\"Service stopped\");\n\t\t\t\tthis.updateLog();\n\t\t\t\treturn true;\n\t\t\t},\n\t\t\tonFailure: (inError) => {\n\t\t\t\tconsole.log(\"Service stop failure: \"+inError);\n\t\t\t\tthis.setState({label: \"Service stop error\"});\n\t\t\t\treturn;\n\t\t\t}\n\t\t});\n\t}\n\n\tqueryServiceStatus(onSuccess, onError)\n\t{\n\t\tnew LS2Request().send({\n\t\t\tservice: \"luna://me.wouterdek.magic4pc.service/\",\n\t\t\tmethod: 'query',\n\t\t\tparameters: { },\n\t\t\tonSuccess: onSuccess,\n\t\t\tonFailure: onError\n\t\t});\n\t}\n\n\tupdateLog()\n\t{\n\t\tthis.queryServiceStatus((msg) => {\n\t\t\tconsole.log(msg);\n\t\t\tlet label = \"\";\n\t\t\tif(msg.isConnected)\n\t\t\t{\n\t\t\t\tlabel = \"Connected to \"+msg.unicastRInfo.address+\":\"+msg.unicastRInfo.port;\n\t\t\t}\n\t\t\telse if(msg.broadcastAdsActive)\n\t\t\t{\n\t\t\t\tlabel = \"Waiting for client to connect\";\n\t\t\t}\n\t\t\telse if(!msg.serviceActive)\n\t\t\t{\n\t\t\t\tlabel = \"Service disabled\";\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tlabel = \"Service error\";\n\t\t\t}\n\t\t\tthis.setState({label: label});\n\t\t}, (inError) => {\n\t\t\tconsole.log(\"Error retrieving service state: \"+inError);\n\t\t\tthis.setState({label: \"Error retrieving service state\"});\n\t\t});\n\t}\n\n\tonVisibilityChange()\n\t{\n\t\tif (document.hidden)\n\t\t{\n\t\t\tthis.stopService();\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.startService();\n\t\t}\n\t}\n\n\tonCursorVisibilityChange(e)\n\t{\n\t\tvar isVisible = e.detail.visibility;\n\t\tthis.setState({settingsButtonVisible: isVisible});\n\t}\n\n\tcomponentWillMount()\n\t{\n\t\tdocument.addEventListener(\"keydown\", this.onButtonDown, false);\n\t\tdocument.addEventListener(\"keyup\", this.onButtonUp, false);\n\t\tdocument.addEventListener('visibilitychange', this.onVisibilityChange, false);\n\t\tdocument.addEventListener('cursorStateChange', this.onCursorVisibilityChange, false);\n\t}\n\n\tcomponentWillUnmount()\n\t{\n\t\tdocument.removeEventListener(\"keydown\", this.onButtonPress, false);\n\t\tdocument.removeEventListener(\"keyup\", this.onButtonPress, false);\n\t\tdocument.removeEventListener('visibilitychange', this.onVisibilityChange, false);\n\t\tdocument.removeEventListener('cursorStateChange', this.onCursorVisibilityChange, false);\n\t}\n\n\tinputSourceLabels = [\n\t\t'HDMI 1',\n\t\t'HDMI 2',\n\t\t'HDMI 3',\n\t\t'HDMI 4',\n\t\t'Comp 1',\n\t\t'AV 1',\n\t\t'AV 2',\n\t]\n\t\n\tinputSources = [\n\t\t'ext://hdmi:1',\n\t\t'ext://hdmi:2',\n\t\t'ext://hdmi:3',\n\t\t'ext://hdmi:4',\n\t\t'ext://comp:1',\n\t\t'ext://av:1',\n\t\t'ext://av:2'\n\t]\n\n\tonInputSourceSelected({selected})\n\t{\n\t\tlet selectedSource = this.inputSources[selected];\n\t\t\n\t\tthis.setState({\n\t\t\tvideoSource: selectedSource\n\t\t});\n\n\t\tlet vidElem = document.getElementById(\"vidElem\");\n\t\tlet vidSrcElem = document.getElementById(\"vidSrcElem\");\n\n\t\tvidElem.pause();\n\t\tvidSrcElem.src = selectedSource;\n\t\tvidElem.load();\n\t\tvidElem.play();\n\t}\n\n\toverlayStyle = {\n\t\tposition: 'fixed',\n\t\twidth: '100%',\n\t\theight: '100%',\n\t\ttop: 0,\n\t\tleft: 0,\n\t\tright: 0,\n\t\tbottom: 0,\n\t\tzIndex: 2\n\t}\n\t\n\thandleOpenPopup()\n\t{\n\t\tthis.setState({popupOpen: true});\n\t\tthis.updateLogTask = setInterval(() => this.updateLog(), 1000);\n\t}\n\n\thandleClosePopup()\n\t{\n\t\tthis.setState({popupOpen: false});\n\t\tclearInterval(this.updateLogTask);\n\t}\n\n\trender () {\n\t  return(\n\t\t<div>\n\t\t  \t<video id=\"vidElem\" autoPlay>\n\t\t\t\t<source id=\"vidSrcElem\" type=\"service/webos-external\" src={this.state.videoSource}/>\n\t\t\t</video>\n\t\t\t<div style={this.overlayStyle}>\n\t\t\t\t{this.state.settingsButtonVisible ? <Button onClick={this.handleOpenPopup} icon=\"gear\"/> : null}\n\t\t\t\t<Popup open={this.state.popupOpen} onClose={this.handleClosePopup}>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<p id=\"status\">{this.state.label}</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<Dropdown defaultSelected={0} title=\"Input source\" onSelect={this.onInputSourceSelected}>{this.inputSourceLabels}</Dropdown>\n\t\t\t\t\t\t<Button onClick={this.startService}>Enable</Button>\n\t\t\t\t\t\t<Button onClick={this.stopService}>Disable</Button>\n\t\t\t\t\t\t<Button onClick={this.updateLog}>Update</Button>\n\t\t\t\t\t\t<Button onClick={this.handleClosePopup}>Close</Button>\n\t\t\t\t\t</div>\n\t\t\t\t</Popup>\n\t\t\t</div>\n\t\t</div>\n\t  )\n\t}\n}\n\nexport default MainPanel;\n",{"ruleId":"40","replacedBy":"41"},{"ruleId":"42","replacedBy":"43"},{"ruleId":"44","replacedBy":"45"},{"ruleId":"40","replacedBy":"46"},{"ruleId":"42","replacedBy":"47"},{"ruleId":"44","replacedBy":"48"},{"ruleId":"49","severity":1,"message":"50","line":2,"column":19,"nodeType":"51","messageId":"52","endLine":2,"endColumn":36},{"ruleId":"49","severity":1,"message":"53","line":4,"column":8,"nodeType":"51","messageId":"52","endLine":4,"endColumn":12},{"ruleId":"49","severity":1,"message":"54","line":5,"column":9,"nodeType":"51","messageId":"52","endLine":5,"endColumn":14},{"ruleId":"49","severity":1,"message":"55","line":5,"column":16,"nodeType":"51","messageId":"52","endLine":5,"endColumn":22},{"ruleId":"49","severity":1,"message":"56","line":40,"column":20,"nodeType":"51","messageId":"52","endLine":40,"endColumn":30},{"ruleId":"49","severity":1,"message":"56","line":67,"column":16,"nodeType":"51","messageId":"52","endLine":67,"endColumn":26},{"ruleId":"49","severity":1,"message":"57","line":70,"column":16,"nodeType":"51","messageId":"52","endLine":70,"endColumn":23},{"ruleId":"49","severity":1,"message":"56","line":94,"column":16,"nodeType":"51","messageId":"52","endLine":94,"endColumn":26},{"ruleId":"58","severity":1,"message":"59","line":160,"column":3,"nodeType":"60","messageId":"61","endLine":160,"endColumn":39,"fix":"62"},{"ruleId":"63","severity":1,"message":"64","line":164,"column":2,"nodeType":"51","endLine":164,"endColumn":20},{"ruleId":"65","severity":1,"message":"66","line":189,"column":1,"nodeType":"67","messageId":"68","endLine":189,"endColumn":2,"fix":"69"},{"ruleId":"65","severity":1,"message":"66","line":203,"column":1,"nodeType":"67","messageId":"68","endLine":203,"endColumn":3,"fix":"70"},{"ruleId":"65","severity":1,"message":"66","line":227,"column":1,"nodeType":"67","messageId":"68","endLine":227,"endColumn":2,"fix":"71"},"no-catch-shadow",["72"],"no-native-reassign",["73"],"no-negated-in-lhs",["74"],["72"],["73"],["74"],"no-unused-vars","'DropdownDecorator' is defined but never used.","Identifier","unusedVar","'kind' is defined but never used.","'Panel' is defined but never used.","'Header' is defined but never used.","'inResponse' is defined but never used.","'inError' is defined but never used.","no-var","Unexpected var, use let or const instead.","VariableDeclaration","unexpectedVar",{"range":"75","text":"76"},"react/no-deprecated","componentWillMount is deprecated since React 16.9.0, use UNSAFE_componentWillMount instead, see https://reactjs.org/docs/react-component.html#unsafe_componentwillmount. Use https://github.com/reactjs/react-codemod#rename-unsafe-lifecycles to automatically update your components.","no-trailing-spaces","Trailing spaces not allowed.","Program","trailingSpace",{"range":"77","text":"78"},{"range":"79","text":"78"},{"range":"80","text":"78"},"no-shadow","no-global-assign","no-unsafe-negation",[3755,3758],"let",[4625,4626],"",[4860,4862],[5259,5260]]